# NVDA Futures Arbitrage Bot - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üìä –°—Ç–∞—Ç—É—Å
**‚úÖ –†–ê–ë–û–ß–ò–ô** - –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ main.py                 # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ + UI (–∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥)
‚îú‚îÄ‚îÄ config.py               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–ø—Ä–µ–¥—ã, —Ä–∏—Å–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ web_server.py           # –í–µ–±-–¥–∞—à–±–æ—Ä–¥ –Ω–∞ aiohttp (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ websocket_clients.py   # WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Bitget/Hyperliquid
‚îÇ   ‚îú‚îÄ‚îÄ arbitrage_engine.py    # –Ø–¥—Ä–æ: –ø–æ–∏—Å–∫ —Å–ø—Ä–µ–¥–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ risk_manager.py        # –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∏—Å–∫–æ–≤ (–ª–∏–º–∏—Ç—ã —É–±—ã—Ç–∫–æ–≤/–ø–æ–∑–∏—Ü–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ paper_executor.py      # –ë—É–º–∞–∂–Ω–æ–µ —Ç—Ä–µ–π–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–∏–º—É–ª—è—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ spread_history.py      # –ò—Å—Ç–æ—Ä–∏—è —Å–ø—Ä–µ–¥–æ–≤ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ connection_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ hyperliquid_rest.py    # REST API Hyperliquid
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ logs/               # –î–Ω–µ–≤–Ω—ã–µ –ª–æ–≥–∏
    ‚îú‚îÄ‚îÄ paper_portfolio.json    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
    ‚îî‚îÄ‚îÄ positions.json      # –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∑–∏—Ü–∏–π
```

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π –¥–≤–∏–∂–æ–∫** (`arbitrage_engine.py`)
- **–ü–æ–∏—Å–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**: —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ü–µ–Ω—ã –Ω–∞ Bitget (NVDAUSDT) vs Hyperliquid (xyz:NVDA)
- **2 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏**:
  - `B‚ÜíH`: –∫—É–ø–∏—Ç—å –Ω–∞ Bitget, –ø—Ä–æ–¥–∞—Ç—å –Ω–∞ Hyperliquid
  - `H‚ÜíB`: –∫—É–ø–∏—Ç—å –Ω–∞ Hyperliquid, –ø—Ä–æ–¥–∞—Ç—å –Ω–∞ Bitget
- **–í–∞–ª–æ–≤—ã–µ —Å–ø—Ä–µ–¥—ã** (–±–µ–∑ –∫–æ–º–∏—Å—Å–∏–π): –±–µ—Ä—É—Ç—Å—è –≤ —Ä–∞—Å—á–µ—Ç –¥–ª—è –≤—Ö–æ–¥–∞
- **–ö–æ–º–∏—Å—Å–∏–∏** (0.6% Bitget, 0.5% Hyperliquid): —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ PnL

### 2. **Paper Trading** (`paper_executor.py`)
- –ò–º–∏—Ç–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- FOK (Fill-or-Kill) –ª–æ–≥–∏–∫–∞: –ª–∏–±–æ –ø–æ–ª–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, –ª–∏–±–æ –æ—Ç–º–µ–Ω–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—å (USDT, NVDA –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

### 3. **WebSocket –∫–ª–∏–µ–Ω—Ç—ã** (`websocket_clients.py`)
- –ü–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ –æ–±–µ–∏–º –±–∏—Ä–∂–∞–º
- –ü–æ–ª—É—á–∞—é—Ç bid/ask –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ

### 4. **Risk Manager** (`risk_manager.py`)
- –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç —É–±—ã—Ç–∫–æ–≤: **$400**
- –ú–∞–∫—Å –ø–æ–∑–∏—Ü–∏—è: **2 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ / $500**
- –ú–∞–∫—Å —É–±—ã—Ç–æ–∫ –Ω–∞ —Å–¥–µ–ª–∫—É: **$100**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –ø–æ–∑–∏—Ü–∏–∏

## üìà –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¶–∏–∫–ª —Ç–æ—Ä–≥–æ–≤–ª–∏:
1. **–ü–æ–∏—Å–∫** (1 —Ä–∞–∑/—Å–µ–∫): –æ–±–µ –±–∏—Ä–∂–∏ –≤ `ACTIVE` —Ä–µ–∂–∏–º–µ?
2. **–†–∞—Å—á–µ—Ç —Å–ø—Ä–µ–¥–æ–≤**: B‚ÜíH –∏ H‚ÜíB —Å —É—á–µ—Ç–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**:
   - –í—Ö–æ–¥–Ω–æ–π —Å–ø—Ä–µ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **‚â• 0.1%** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ config)
   - –í—ã—Ö–æ–¥–Ω–æ–π —Å–ø—Ä–µ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **‚â§ -0.05%**
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤**: –ø—Ä–æ–π–¥–µ—Ç –ª–∏ Position Manager –ø—Ä–æ–≤–µ—Ä–∫—É?
5. **–û—Ç–∫—Ä—ã—Ç–∏–µ**: –ø–∞—Ä–Ω—ã–µ FOK –æ—Ä–¥–µ—Ä–∞ (buy + sell –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—ã—Ö–æ–¥–Ω–æ–π —Å–ø—Ä–µ–¥ –∫–∞–∂–¥—ã–µ 0.5 —Å–µ–∫
7. **–ó–∞–∫—Ä—ã—Ç–∏–µ**: –∫–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–Ω–æ–π —Å–ø—Ä–µ–¥ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ web_server.py**
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- **–ë—ã–ª–æ**: NameError - `Dict` type hint –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `from typing import Dict, List, Optional, Tuple`

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏—Å—å**
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- **–ü—Ä–∏—á–∏–Ω–∞**: –±–æ—Ç –Ω–∞—Ö–æ–¥–∏–ª opportunities, –Ω–æ execute_fok_pair() –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫—É
- **–†–µ—à–µ–Ω–∏–µ**: –¥–æ–±–∞–≤–ª–µ–Ω–æ DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! ‚úÖ

### ‚ö†Ô∏è **–í–æ–∑–º–æ–∂–Ω–∞—è –ü—Ä–æ–±–ª–µ–º–∞ 3: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **Paper Trading —Ä–µ–∂–∏–º–µ** (—Å–∏–º—É–ª—è—Ü–∏—è)
- –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API –æ–±–µ–∏—Ö –±–∏—Ä–∂
- –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã –≤ paper_executor.py

## ‚öôÔ∏è –í–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (config.py)

```python
MIN_SPREAD_ENTER = 0.001        # 0.1% - –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞
MIN_SPREAD_EXIT = -0.0005       # -0.05% - —Ü–µ–ª–µ–≤–æ–π —Å–ø—Ä–µ–¥ –≤—ã—Ö–æ–¥–∞

MAX_POSITION_CONTRACTS = 2.0    # –º–∞–∫—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
MAX_POSITION_USD = 500.0        # –º–∞–∫—Å —Å—Ç–æ–∏–º–æ—Å—Ç—å
MAX_DAILY_LOSS = 400.0          # —Å—É—Ç–æ—á–Ω—ã–π –ª–∏–º–∏—Ç —É–±—ã—Ç–∫–æ–≤

MARKET_SLIPPAGE = 0.0001        # 0.01% –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
LOG_LEVEL = 'DEBUG'             # –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```

## üåê –í–µ–±-–¥–∞—à–±–æ—Ä–¥
- **–ê–¥—Ä–µ—Å**: http://0.0.0.0:8080
- **–§—É–Ω–∫—Ü–∏–∏**: 
  - Real-time —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
  - –¢–µ–∫—É—â–∏–µ —Å–ø—Ä–µ–¥—ã (B‚ÜíH, H‚ÜíB)
  - –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
  - –ò—Å—Ç–æ—Ä–∏—è —Å–ø—Ä–µ–¥–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏)
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–∏

## üìù –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
```bash
python main.py
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ WebSocket'–∞–º –æ–±–µ–∏—Ö –±–∏—Ä–∂
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –≤–µ–±-–¥–∞—à–±–æ—Ä–¥ –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ –ù–∞—á–Ω–µ—Ç –ø–æ–∏—Å–∫ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–§–∞–π–ª—ã**: `data/logs/arbitrage_YYYYMMDD.log`
- **–£—Ä–æ–≤–µ–Ω—å**: DEBUG (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è)
- **–ö–æ–Ω—Å–æ–ª—å**: INFO –∏ –≤—ã—à–µ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è)

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ–±–µ–∏–º –±–∏—Ä–∂–∞–º
- ‚úÖ –†–∞—Å—á–µ—Ç —Å–ø—Ä–µ–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ü–æ–∏—Å–∫ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ Risk management (–ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º)
- ‚úÖ Paper trading —Å–∏–º—É–ª—è—Ü–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)
- ‚úÖ –í–µ–±-–¥–∞—à–±–æ—Ä–¥

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
1. **–†–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è**: –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API –æ—Ä–¥–µ—Ä–æ–≤
2. **API –∫–ª—é—á–∏**: –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ–∫—Ä–µ—Ç—ã Replit
3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: —Ç–æ–Ω–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —Å–ø—Ä–µ–¥–æ–≤ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä—ã–Ω–∫–∞
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –¥–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã (email, Telegram)
